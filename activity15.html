<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Maybelle Zheng - Activity 15</title>
  </head>
  <body>
<h1>Maybelle Zheng - Activity 15</h1>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script type="text/javascript">
  // making a specific request using API headers
  const getYear = async()=>{
    const config = {headers: {Accept: 'application/json'}}
    const res
  }
  // making request using axios
  let axio = axios.get("https://swapi.dev/api/people/1/")
  console.log("Request using axios", axio);
  // try and catch statement in fetch
  // making multiple request using fetch
  const loadPeople = async()=>{
    try{
      const res = await fetch("https://swapi.dev/api/people/1/")
      const data =await res.json()
      console.log(`Multiple response using fetch, 1st person`, data);
      const res2 = await fetch("https://swapi.dev/api/people/2000/")
      const data2 =await res2.json()
      console.log(`Multiple response using fetch, 2nd person`, data2);
    } catch (e) {
      console.log("ERROR!", e);
    }

  }
  //making an AJAX request using fetch
  fetch("https://swapi.dev/api/people/1/")
  .then((res)=>{
    console.log("LOADED: using fetch", res);
    res.json().then((data)=> console.log("JSON result using fetch", data))
  })
  // making an AJAX request using XHR
  const req = new XMLHttpRequest();
  req.onload = function(){
    console.log('LOADED');
    console.log(this.response);
    const person = JSON.parse(this.response)
    console.log(`NAME: ${person.name}, HEIGHT ${person.height}`);
  }

  req.onerror = function(){
    console.log('ERROR!');
    console.log(this);
  }

  req.open("GET", "https://swapi.dev/api/people/1/")
  req.send();

</script>
  </body>
</html>
